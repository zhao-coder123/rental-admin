# 房屋租赁中介管理系统 - 使用说明

## 🚀 项目启动

### 后端启动

```bash
cd rental-backend
pnpm install
pnpm run start:dev
```

后端服务运行在：http://localhost:3001

### 前端启动

```bash
cd rental-admin
pnpm install
pnpm run dev
```

前端服务运行在：http://localhost:8000

## 📋 登录信息

### 管理员账号

- 用户名：`admin`
- 密码：`123456`
- 角色：系统管理员

### 业务员账号

- 用户名：`agent001`
- 密码：`123456`
- 角色：中介业务员

## 🏠 功能模块

### 1. 中介工作台

- 📊 业绩统计概览
- 📅 今日待办事项
- 📞 快捷操作面板

### 2. 房源管理

- ✅ 房源列表查看、搜索筛选
- ➕ 添加新房源
- ✏️ 编辑房源信息
- 🔄 房源状态管理（待租/已预定/已出租）
- 📷 房源图片上传

### 3. 客户管理

- ✅ **客户列表** - 查看所有客户，支持搜索和筛选
- ➕ **添加客户** - 分步骤引导创建客户档案
- 👤 **客户详情** - 完整的客户信息展示
- 📞 **咨询跟进** - 记录客户咨询，管理跟进状态
- 📅 **预约看房** - 创建和管理看房预约

### 4. 业绩统计

- 📈 月度成交统计
- 💰 收益报表
- 📊 房源空置率分析

## 🛠 技术架构

### 前端技术栈

- **框架**：React + UmiJS 4
- **UI 库**：Ant Design 5
- **状态管理**：UmiJS 内置状态管理
- **路由**：UmiJS 约定式路由
- **认证**：JWT Token + 本地存储

### 后端技术栈

- **框架**：NestJS
- **认证**：JWT + Passport
- **数据存储**：JSON 文件（本地存储）
- **API 风格**：RESTful API

## 📁 数据存储

系统使用 JSON 文件存储数据，文件位置：

```
rental-backend/src/data/
├── users.json          # 用户数据
├── houses.json         # 房源数据
├── tenants.json        # 客户数据
├── consultations.json  # 咨询记录
└── appointments.json   # 预约记录
```

## 🔒 权限控制

- **登录验证**：所有业务页面需要登录后访问
- **Token 认证**：使用 JWT Token 进行 API 认证
- **自动跳转**：未登录用户自动跳转到登录页
- **会话管理**：支持记住登录状态

## 🌐 API 接口

### 认证接口

- `POST /api/auth/login` - 用户登录

### 客户管理接口

- `GET /api/tenants` - 获取客户列表
- `POST /api/tenants` - 创建客户
- `GET /api/tenants/:id` - 获取客户详情
- `PUT /api/tenants/:id` - 更新客户信息
- `DELETE /api/tenants/:id` - 删除客户

### 咨询管理接口

- `GET /api/consultations` - 获取咨询记录
- `POST /api/consultations` - 创建咨询记录
- `PUT /api/consultations/:id` - 更新咨询记录

## 📱 功能特色

### 现代化 UI 设计

- 🎨 渐变色彩搭配
- 📱 响应式设计
- 🔄 流畅的交互动画
- 📊 数据可视化展示

### 用户体验优化

- 🚀 分步骤引导流程
- 💡 智能表单验证
- 🔍 实时搜索筛选
- 📅 日历视图管理

### 业务流程完整

- 👥 完整的客户生命周期管理
- 📞 从咨询到成交的全流程跟踪
- 📊 实时业绩统计分析
- 🔄 灵活的状态管理

## 🚦 开发状态

- ✅ 用户认证系统
- ✅ 客户管理完整功能
- ✅ 咨询跟进系统
- ✅ 预约管理系统
- 🔄 房源管理（基础框架）
- 🔄 合同管理（待开发）
- 🔄 租金管理（待开发）

## 📞 技术支持

如有问题，请检查：

1. 后端服务是否正常启动（端口 3001）
2. 前端代理配置是否正确
3. 浏览器控制台是否有错误信息
4. 网络连接是否正常

---

💡 **提示**：这是一个轻量级的本地管理系统，适合中小型中介团队使用。所有数据存储在本地，确保数据安全和隐私保护。
